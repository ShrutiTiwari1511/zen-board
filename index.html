<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>A Small Game With Big Feelings</title>

<!-- Google Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">

<style>
:root {
  --navy: #0a2540;
  --pista: #9ad0a4;
  --white: #ffffff;
  --card: #ffffffee;
  --locked: #cccccc;
  --success: #3cb371;
}

* {
  box-sizing: border-box;
  font-family: 'Inter', sans-serif;
}

body {
  margin: 0;
  min-height: 100vh;
  background: linear-gradient(180deg, #0a2540, #102f4a);
  color: var(--white);
  display: flex;
  justify-content: center;
  align-items: center;
}

.hidden { display: none; }

.container {
  width: 100%;
  max-width: 420px;
  padding: 16px;
}

.card {
  background: var(--card);
  color: #0a2540;
  border-radius: 18px;
  padding: 20px;
  box-shadow: 0 12px 32px rgba(0,0,0,0.25);
}

h1, h2 {
  text-align: center;
}

button {
  background: var(--navy);
  color: var(--white);
  border: none;
  padding: 12px 20px;
  border-radius: 24px;
  font-weight: 600;
  cursor: pointer;
  width: 100%;
}

button:hover {
  background: #061a2f;
}

input {
  padding: 12px;
  border-radius: 12px;
  border: 1px solid #ccc;
  width: 100%;
  margin-bottom: 12px;
}

.level-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 12px;
}

.level {
  padding: 14px;
  border-radius: 14px;
  text-align: center;
}

.level.locked {
  background: #eee;
  color: #999;
}

.level.unlocked {
  background: linear-gradient(135deg, #e8f7ec, #ffffff);
  cursor: pointer;
}

canvas {
  width: 100%;
  background: #0a2540;
  border-radius: 14px;
  display: block;
  margin-top: 12px;
}

.gift {
  background: linear-gradient(135deg, #e8f7ec, #ffffff);
  border-radius: 14px;
  padding: 14px;
  margin-top: 12px;
  text-align: center;
}
</style>
</head>

<body>

<div class="container">

<!-- PASSWORD SCREEN -->
<div id="lockScreen" class="card">
  <h1>ğŸ” Unlock the Game</h1>
  <p style="text-align:center;">Enter the password to begin</p>
  <input id="passwordInput" placeholder="Enter password"/>
  <button onclick="checkPassword()">Unlock</button>
  <p style="margin-top:10px;font-size:0.9em;text-align:center;">
    Hint: <i>What's your nickname?</i>
  </p>
</div>

<!-- DASHBOARD -->
<div id="dashboard" class="card hidden">
  <h1>ğŸ® Game Board</h1>

  <div class="level-grid">
    <div class="level unlocked" onclick="startLevel(1)">Level 1<br/>ğŸ“ Paddle Challenge</div>
    <div class="level locked" id="level2">Level 2<br/>ğŸ”’</div>
    <div class="level locked" id="level3">Level 3<br/>ğŸ”’</div>
    <div class="level locked" id="level4">Level 4<br/>ğŸ”’</div>
  </div>

  <h2 style="margin-top:24px;">ğŸ Gifts</h2>
  <div id="giftCollection"></div>
</div>

<!-- LEVEL 1 -->
<div id="level1" class="card hidden">
  <h2>Paddle Challenge</h2>
  <p style="text-align:center;">Keep the ball alive for <b>15 hits</b></p>
  <canvas id="gameCanvas" height="260"></canvas>
  <button style="margin-top:14px;" onclick="backToDashboard()">Exit</button>
</div>

<!-- GIFT SCREEN -->
<div id="giftScreen" class="card hidden">
  <h2>ğŸ Gift Unlocked</h2>
  <div class="gift">
    <p>This is where your gift goes.</p>
    <a href="https://www.canva.com/" target="_blank">Open Gift ğŸ‰</a>
  </div>
  <button style="margin-top:14px;" onclick="backToDashboard()">Back</button>
</div>

</div>

<script>
const PASSWORD = "dudez";

function checkPassword() {
  if (passwordInput.value.trim().toLowerCase() === PASSWORD.toLowerCase()) {
    lockScreen.classList.add("hidden");
    dashboard.classList.remove("hidden");
    loadGifts();
  } else {
    alert("Not quite ğŸ˜Œ");
  }
}

/* -------- Paddle Game -------- */

const canvas = document.getElementById("gameCanvas");
const ctx = canvas.getContext("2d");

let paddle = { x: 120, w: 80 };
let ball = { x: 150, y: 130, dx: 2, dy: -2, r: 6 };
let hits = 0;
let running = false;

function startLevel() {
  dashboard.classList.add("hidden");
  level1.classList.remove("hidden");
  hits = 0;
  running = true;
  loop();
}

canvas.addEventListener("touchmove", e => {
  const rect = canvas.getBoundingClientRect();
  paddle.x = e.touches[0].clientX - rect.left - paddle.w / 2;
});

function loop() {
  if (!running) return;

  ctx.clearRect(0,0,canvas.width,canvas.height);

  // Paddle
  ctx.fillStyle = "#9ad0a4";
  ctx.fillRect(paddle.x, canvas.height - 20, paddle.w, 10);

  // Ball
  ctx.beginPath();
  ctx.arc(ball.x, ball.y, ball.r, 0, Math.PI * 2);
  ctx.fillStyle = "#ffffff";
  ctx.fill();
  ctx.closePath();

  ball.x += ball.dx;
  ball.y += ball.dy;

  if (ball.x < 0 || ball.x > canvas.width) ball.dx *= -1;
  if (ball.y < 0) ball.dy *= -1;

  if (
    ball.y > canvas.height - 30 &&
    ball.x > paddle.x &&
    ball.x < paddle.x + paddle.w
  ) {
    ball.dy *= -1;
    hits++;
    if (hits >= 15) {
      running = false;
      unlockGift(1);
      return;
    }
  }

  if (ball.y > canvas.height) {
    running = false;
    alert("Try again ğŸ’ª");
  }

  requestAnimationFrame(loop);
}

function unlockGift(level) {
  level1.classList.add("hidden");
  giftScreen.classList.remove("hidden");
  localStorage.setItem(`gift${level}`, "unlocked");
}

function loadGifts() {
  giftCollection.innerHTML = "";
  [1,2,3,4].forEach(lvl => {
    if (localStorage.getItem(`gift${lvl}`)) {
      const div = document.createElement("div");
      div.className = "gift";
      div.innerText = `Gift from Level ${lvl}`;
      giftCollection.appendChild(div);
    }
  });
}

function backToDashboard() {
  level1.classList.add("hidden");
  giftScreen.classList.add("hidden");
  dashboard.classList.remove("hidden");
  loadGifts();
}
</script>

</body>
</html>
